# MAC  
数据链路层的核心协议是以太网协议，协议的核心字段是MAC地址。    
  
**MAC**  
**单播/组播/广播**  
**MAC地址表/ARP表**  
MAC地址，又称为物理地址(physical address)，长度固定，6个字节，MAC地址也分为三种，  
单播，组播，广播地址。        
      
## 单播(unicast)/组播(multicast)/广播(broadcast)        
1.单播地址
就是对应网卡的实际物理地址，根据IP包的目的IP地址，查询arp表获取，或者是网关的      
MAC地址。网卡的物理地址的第一个字节的最低位必须是0！！        
      
2.组播地址     
组播MAC地址的第一个字节的最低位必须是1，比如如下都是组播地址。        
0x01-0xff-0xff-0xff-0xff-0xff        
0x33-0x00-0x00-0x00-0x00-0x00        
      
3.广播地址
广播的MAC地址很固定，是全1，即：        
0xff-0xff-0xff-0xff-0xff-0xff        

## MAC地址表
MAC地址表主要包含四部分：MAC地址，VLAN-ID，对应接口，类型。
<pre>
--------------------------------------------------------
|MAC Address      VLAN       Port         Type
--------------------------------------------------------
|5689-982f-1f3c   1          GE0/0/1      dynamic
|6489-782f-103b   1          GE0/0/2      static
|6229-582e-1e3e   1          GE0/0/3      blackhole
--------------------------------------------------------
</pre>
1.接口
指的是交换机学习到该MAC地址的接口编号，一个接口可以学习到多个MAC地址。

2.类型
用来表示MAC地址表条目的类型，分三种，动态(dynamic)，静态(static)，黑洞(blackhole)
--动态表示该MAC地址是交换机根据收到的以太网帧源MAC地址自主学习产生，默认老化时间300秒。
--静态表示该MAC地址是手动配置，不可老化。
--黑洞表示该MAC地址是手动配置的，用来过滤以某MAC地址为源和目的数据帧，不可老化。

## ARP表
ARP协议的本质是根据通过目的IP地址请求目的MAC地址，通过发送以太网广播数据包来  
请求MAC地址，将收到的MAC填入ARP缓存表，ARP缓存表存储的是IP地址和MAC地址的对应关系。  
<pre>  
IP					MAC									   
192.168.1.99		0xdd-0xee-0xcc-0x11-0xff-0xff		  
192.168.1.100		0xee-0xee-0xcc-0x11-0xff-0xff         
192.168.1.80		0xcc-0xee-0xcc-0x11-0xff-0xff		             
  
192.168.2.100		0xaa-0xee-0xcc-0x11-0xff-0xff		  
</pre>  
